/*
 * PROTOSTRING
 * https://github.com/SethClydesdale/protostring
 * A library of methods that extend upon the JavaScript String Object
 */
String.prototype.encodeAs=function(t){t=t?t.toLowerCase():"decimal";var e,r=1,n=this.length,o=this.charCodeAt(0),i=" ",a="";switch(t){case"decimal":break;case"hex":e=16,o=o.toString(e);break;case"binary":e=2,o=o.toString(e);break;case"entity":r=0,o="",i="&#",a=";";break;default:throw new TypeError('"'+t+'" is not an encoding method')}for(;n>r;r++)o+=i+this.charCodeAt(r).toString(e)+a;return o},String.prototype.decodeAs=function(t){if(t=t?t.toLowerCase():"decimal","entity"!=t){for(var e,r=this.split(" "),n=0,o="";e=r[n];n++){switch(t){case"decimal":break;case"hex":e=parseInt(e,16);break;case"binary":e="0b"+e;break;default:throw new TypeError('"'+t+'" is not a decoding method')}o+=String.fromCharCode(e)}return o}return this.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(e)})},String.prototype.toEnclosed=function(){for(var t,e=0,r="";t=this[e];e++)t=t.charCodeAt(0),t>64&&91>t?t=9398+Math.abs(65-t):t>96&&123>t?t=9424+Math.abs(97-t):t>48&&58>t?t=9312+Math.abs(49-t):48==t&&(t=9450),r+=String.fromCharCode(t);return r},String.prototype.toObject=function(){for(var t=0,e=this.length,r={length:e,toString:function(){var t,e="";for(t in this)e+=/\d+/.test(t)?this[t]:"";return e}};e>t;t++)r[t]=this.charAt(t);return r},String.prototype.capitalize=function(t){return this[0].toUpperCase()+(t?this:this.toLowerCase()).slice(1)},String.prototype.toCamelCase=function(t){for(var e,r=0,n="",o=!1;e=this[r];r++)/[A-Z]/i.test(e)?(n+=o?e.toUpperCase():e,o=!1):/\s|\n|\r|_|-/.test(e)&&(o=!0);return n=(t?n[0].toUpperCase():n[0].toLowerCase())+n.slice(1)},String.prototype.toSentenceCase=function(){for(var t,e=0,r=!1,n="";t=this[e];e++)r||/\n|\r|\s/.test(t)?n+=t:(n+=t.toUpperCase(),r=!0),/\n|\r|\.|!|\?/.test(t)&&(r=!1);return n},String.prototype.toSnakeCase=function(t){for(var e,r=0,n="";e=this[r];r++)n+=/[A-Z]/i.test(e)?e:/\s|\n|\r|-|_/.test(e)?"_":"";return n=t?n.toUpperCase():n.toLowerCase()},String.prototype.toTitleCase=function(t){for(var e,r=1,n=this[0].toUpperCase(),o=!1;e=this[r];r++){switch(o){case!1:n+=e;break;case!0:n+=e.toUpperCase(),o=!1}/\s/.test(e)&&(o=!0)}return t?n:n.replace(/\s(a|about|above|across|against|along|also|although|among|an|and|around|at|because|before|behind|below|beneath|beside|between|beyond|but|by|down|during|either|except|for|from|in|inside|into|like|near|neither|nor|not|of|off|on|only|or|since|the|through|to|toward|under|unless|until|up|upon|while|with|within)(?=\s)/gi,function(t,e){return" "+e.toLowerCase()})},String.charRange=function(t,e,r){var n,o;switch(t=t?t.charCodeAt(0):0,e=e?e.charCodeAt(0)+1:65536,r=r?r.toLowerCase():"string",t>e&&(o=++t,t=--e,e=o),r){case"string":for(n="";e>t;t++)n+=String.fromCharCode(t);break;case"array":for(n=[],o=0;e>t;t++)n[o++]=String.fromCharCode(t);break;case"object":for(n={};e>t;t++)n["u"+t]=String.fromCharCode(t);break;default:throw new TypeError('"'+r+'" is not a supported data type')}return n},String.prototype.containsString=function(t,e,r){return r=r?r.toLowerCase():"",new RegExp(("start"==r?"^":"")+(t?t:this).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+("end"==r?"$":""),e?"i":"").test(this)},String.prototype.distance=function(t,e){var r=e?this.toLowerCase():this,n=t?e?t.toLowerCase():t:r,e=0,o=r.length,i=n.length,a=Math.abs(o-i),s=0;if(r==n)return 0;for(o>i&&(o=i);o>e;e++)r[e]!=n[e]&&s++;return s+a},String.prototype.enumerateLines=function(t){for(var e,r=1,n=t?0:1,o=n+". "+this[0];e=this[r];r++)o+=/\n|\r/.test(e)?e+ ++n+". ":e;return o},String.prototype.escapeRegExp=function(){for(var t=0,e=this.length,r="";e>t;t++)r+=(/[.*+?^${}()|[\]\\]/.test(this[t])?"\\":"")+this[t];return r},String.prototype.indent=function(t,e){if(t=Math.floor(t)||1,e=e||"	",1/0==t)throw new RangeError("The indent amount must be less than Infinity");for(var r,n=0,o=this.length,i="";t>n;n++)i+=e;for(n=1,r=i+this[0];o>n;n++)r+=this[n],/\n|\r/.test(this[n])&&(r+=i);return r},String.prototype.wordCount=function(t){t=t?t.toLowerCase():"number";var e="number"==t?0:"array"==t?[]:{},r=0;return this.replace(/(?:^|\W)(\w+)(?=$|\W)/g,function(n,o){"number"==t?e++:e[r++]=o}),"object"==t&&(e.words=r),e},String.prototype.wrap=function(t,e){return t=t||"<p>",e=e?e:"<p>"==t?"</p>":t,/<.*?>|\[.*?\]|\{.*?\}/.test(e)&&!/^(?:<|\[\{)\//.test(e)&&(e=e.replace(/^\s+|\s+$/g,""),e=e[0]+"/"+e.slice(1),/=/.test(e)&&(e=e.replace(/(?:=.*|\s+.*)(?=>|\]|\})/g,""))),t+this+e},String.prototype.mirror=function(){for(var t=this.length-1,e="";t>-1;t--)e+=this[t];return e},String.prototype.shuffle=function(t){if(t=Math.floor(t)||1,1/0==t)throw new RangeError("shuffle count must be less than Infinity");for(var e=this;t-->0;){for(var r,n=0,o="";r=e[n];n++)o=n%2==0?o+r:r+o;e=o}return o},String.prototype.unshuffle=function(t){if(t=Math.floor(t)||1,1/0==t)throw new RangeError("unshuffle count must be less than Infinity");for(var e=this;t-->0;){for(var r=1,n=e.length,o=Math.ceil(n/2)-(n%2==0?0:1),i=e[o];n>r;r++)i+=e[o=r%2==0?o+r:o-r];e=i}return i},String.prototype.protoRepeat=function(t,e){if(t=Math.floor(t)||0,e=e||"",1/0==t||t*this.length>1<<28)throw new RangeError("Repeat count must be less than Infinity, and not exceed maximum string length");for(var r=1,n=this;t>r;r++)n+=e+this;return n},String.prototype.protoTrim=function(t){switch(t=t?t.toLowerCase():"both"){case"both":t=/^\s+|\s+$/g;break;case"left":t=/^\s+/;break;case"right":t=/\s+$/;break;default:throw new TypeError('"'+t+'" is not a trimming method')}return this.replace(t,"")},String.prototype.template=function(t){if("object"!=typeof t)throw new TypeError("Template data must be an object");var e,r=this;for(e in t)r=r.replace(new RegExp("\\$\\{"+e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\}","gm"),t[e]);return r},String.prototype.cleanHTML=function(t){return this.replace(new RegExp("<.*?>"+(t?"":"|&.*?;\\s?"),"gm"),"")},String.prototype.cleanId=function(){for(var t,e=0,r="";t=this[e];e++)/\s/.test(t)?r+="-":/[0-9A-Z\-_]/i.test(t)&&(r+=t);return/[0-9\-_]/.test(r[0])&&(r="id-"+r),r},String.prototype.newlineToBreak=function(){for(var t=0,e=this.length,r="";e>t;t++)r+=/\n|\r/.test(this[t])?"<br/>":this[t];return r},String.prototype.toAnchor=function(t,e){t=t?t.toLowerCase():"node",e=e?e:this.cleanId();var r;switch(t){case"node":r=document.createElement("A"),r.id=e,r.href="#"+e,r.innerHTML=this;break;case"string":r='<a href="#'+e+'" id="'+e+'">'+this+"</a>";break;default:throw new TypeError('"'+t+'" is not a supported data type')}return r},String.prototype.toNode=function(t){var e=document.createElement(t?t:"P");return e.innerHTML=this,e},String.prototype.toTextNode=function(){return document.createTextNode(this)};
